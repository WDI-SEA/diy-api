<h2>All Expenses</h2>
<% let costArr = [] %>
<ul>
    <% expenses.forEach(expense => { %>
        <li><%=expense.date%> : $<%=expense.cost%> <a href="/expenses/<%=expense.id%>">view detail</a></li>
        <% costArr.push(expense.cost) %>
    <%})%>
</ul>



<% let total = costArr.reduce((a,b) => a + b, 0)%>
<h3>Total Spend: $<%= total %></h3>

<h2>Add new expense:</h2>

<form action="/expenses" method="POST">
  <div class="form-group">
    <label for="date">Date(mm/dd/yy):</label>
    <input type="text" class="form-control" id="date" name="date" required>
  </div>

  <div class="form-group">
    <label for="merchant">Merchant:</label>
    <input type="text" name="merchant" id="merchant" class="form-control" required>
  </div>

  <div class="form-group">
    <label for="category">Category:</label>
    <select name="category" id="category" class="form-control" required>
      <% categories.forEach(function(category) { %>
        <option value="<%= category.id %>"><%= category.name %></option>
      <% }) %>
    </select>
    <p>To add new category, please go <a href="/categories">here</a></p>
  </div>

  <div class="form-group">
    <label for="amount">Amount:</label>
    <input type="number" name="cost" id="cost" class="form-control" required>
  </div>

  <div class="form-group">
    <label for="description">Description:</label>
    <textarea type="text" class="form-control" id="description" name="description" required></textarea>
  </div>

  <button type="submit" class="btn btn-primary">Add Expense</button>
</form>




